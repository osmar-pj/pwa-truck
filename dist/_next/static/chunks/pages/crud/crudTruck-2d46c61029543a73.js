(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[278],{8330:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/crud/crudTruck",function(){return s(8046)}])},8046:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var n=s(5893);s(863);var r=s(7294),c=s(2427),a=s(3045);s(7091);var i=s(598),l=s(7062);function o(e){let{data:t}=e,[s,o]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[j,x]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)(""),[v,b]=(0,r.useState)(null),C=async e=>{console.log(e);try{let t=await fetch("".concat("https://truck.paranoid.lat","/tajo/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","ngrok-skip-browser-warning":!0}});if(t.ok){let e=await t.json();console.log(e),g(e),o(!0),m(!1)}else console.error("Error al obtener datos:",t.statusText)}catch(e){console.error("Error en la solicitud:",e)}},N=async(e,t)=>{try{h(!0),b(e)}catch(e){console.error("Error en la solicitud:",e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"Container-title",children:[(0,n.jsx)("div",{className:"D-title-name",children:(0,n.jsx)("div",{children:(0,n.jsx)("h2",{children:"Lista de Operadores "})})}),(0,n.jsx)("div",{className:"D-title-more",children:(0,n.jsx)("button",{onClick:()=>o(!0)&m(!0),children:"+ Crear nuevo"})})]}),(0,n.jsxs)("div",{className:"Container-table",children:[(0,n.jsxs)("div",{className:"C-table-header",children:[(0,n.jsx)("div",{className:"c-t-h-search",children:(0,n.jsx)("input",{type:"text",value:j,onChange:e=>x(e.target.value),placeholder:"Buscar por nombre..."})}),(0,n.jsx)("div",{className:"c-t-h-items",children:"Items:"})]}),(0,n.jsx)("div",{className:"C-table-body",children:(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"#"}),(0,n.jsx)("th",{children:"Nombre"}),(0,n.jsx)("th",{children:"Mina"}),(0,n.jsx)("th",{children:"Tara"}),(0,n.jsx)("th",{children:"Validez"}),(0,n.jsx)("th",{children:"Fecha de creaci\xf3n"}),(0,n.jsx)("th",{children:"Acciones"})]})}),(0,n.jsx)("tbody",{children:t&&t.length>0?t.slice().sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()).map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsxs)("td",{children:[t+1," "]}),(0,n.jsx)("td",{children:e.tag}),(0,n.jsx)("td",{children:e.mining}),(0,n.jsx)("td",{children:e.tara}),(0,n.jsx)("td",{children:e.valid}),(0,n.jsx)("td",{children:function(e){let t=new Date(e),s=t.getHours(),n=t.getMinutes(),r=t.getDate(),c=t.getMonth()+1,a=t.getFullYear()%100;return"".concat(r,"/").concat(c,"/").concat(a,", ").concat(s<10?"0".concat(s):s,":").concat(n<10?"0".concat(n):n)}(e.createdAt)}),(0,n.jsx)("td",{children:(0,n.jsxs)("div",{className:"btns",children:[(0,n.jsx)("button",{onClick:()=>C(e.tajoId),children:(0,n.jsx)(c.Z,{})}),(0,n.jsx)("button",{onClick:()=>N(e._id),children:(0,n.jsx)(a.Z,{})})]})})]},t)):(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:"5",children:"Sin datos"})})})]})})]}),s&&(0,n.jsx)(l.Z,{setCreate:o,userToEdit:p,isCreateUser:u}),d&&(0,n.jsx)(i.Z,{setDelet:h,userToDeleteId:v})]})}function d(){let[e,t]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=async()=>{try{let e=await fetch("".concat("https://truck.paranoid.lat","/truck"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","ngrok-skip-browser-warning":!0}});if(e.ok){let s=await e.json();console.log(s),t(s)}else setError("Error al obtener datos")}catch(e){console.error("Database Error:",e)}};e()},[]),(0,n.jsx)("section",{className:"w-Crud",children:(0,n.jsx)("div",{className:"Cont",children:(0,n.jsx)(o,{data:e})})})}},863:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var n=s(5893),r=s(7294),c=s(2427),a=s(3045);s(7091);var i=s(598),l=s(7062);function o(e){let{data:t}=e,[s,o]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[j,x]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)(""),[v,b]=(0,r.useState)(null),C=async e=>{console.log(e);try{let t=await fetch("".concat("https://truck.paranoid.lat","/tajo/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","ngrok-skip-browser-warning":!0}});if(t.ok){let e=await t.json();console.log(e),g(e),o(!0),m(!1)}else console.error("Error al obtener datos:",t.statusText)}catch(e){console.error("Error en la solicitud:",e)}},N=async(e,t)=>{try{h(!0),b(e)}catch(e){console.error("Error en la solicitud:",e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"Container-title",children:[(0,n.jsx)("div",{className:"D-title-name",children:(0,n.jsx)("div",{children:(0,n.jsx)("h2",{children:"Lista de Operadores "})})}),(0,n.jsx)("div",{className:"D-title-more",children:(0,n.jsx)("button",{onClick:()=>o(!0)&m(!0),children:"+ Crear nuevo"})})]}),(0,n.jsxs)("div",{className:"Container-table",children:[(0,n.jsxs)("div",{className:"C-table-header",children:[(0,n.jsx)("div",{className:"c-t-h-search",children:(0,n.jsx)("input",{type:"text",value:j,onChange:e=>x(e.target.value),placeholder:"Buscar por nombre..."})}),(0,n.jsx)("div",{className:"c-t-h-items",children:"Items:"})]}),(0,n.jsx)("div",{className:"C-table-body",children:(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"#"}),(0,n.jsx)("th",{children:"Nombre"}),(0,n.jsx)("th",{children:"Mina"}),(0,n.jsx)("th",{children:"Validez"}),(0,n.jsx)("th",{children:"Fecha de creaci\xf3n"}),(0,n.jsx)("th",{children:"Acciones"})]})}),(0,n.jsx)("tbody",{children:t&&t.length>0?t.slice().sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()).map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsxs)("td",{children:[t+1," "]}),(0,n.jsx)("td",{children:e.name}),(0,n.jsx)("td",{children:e.mining}),(0,n.jsx)("td",{children:e.valid}),(0,n.jsx)("td",{children:function(e){let t=new Date(e),s=t.getHours(),n=t.getMinutes(),r=t.getDate(),c=t.getMonth()+1,a=t.getFullYear()%100;return"".concat(r,"/").concat(c,"/").concat(a,", ").concat(s<10?"0".concat(s):s,":").concat(n<10?"0".concat(n):n)}(e.createdAt)}),(0,n.jsx)("td",{children:(0,n.jsxs)("div",{className:"btns",children:[(0,n.jsx)("button",{onClick:()=>C(e.tajoId),children:(0,n.jsx)(c.Z,{})}),(0,n.jsx)("button",{onClick:()=>N(e._id),children:(0,n.jsx)(a.Z,{})})]})})]},t)):(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:"5",children:"Sin datos"})})})]})})]}),s&&(0,n.jsx)(l.Z,{setCreate:o,userToEdit:p,isCreateUser:u}),d&&(0,n.jsx)(i.Z,{setDelet:h,userToDeleteId:v})]})}}},function(e){e.O(0,[448,832,356,774,888,179],function(){return e(e.s=8330)}),_N_E=e.O()}]);