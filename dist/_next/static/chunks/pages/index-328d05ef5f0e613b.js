(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(7052)}])},7052:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return _}});var i=t(5893),n=t(7294),l=t(1526),s=t(8522),r=t(1673),o=t(2560),c=t(9212),u=t(1328),d=t(9332),m=t(6142),p=t(9664),v=t(7105),h=t(4911),x=t(5810),j=t(5975),g=t(3725);function _(){let e=(0,d.useRouter)(),{drivers:a,trucks:t}=(0,x.b)(),[_,b]=(0,n.useState)(!1),[C,N]=(0,n.useState)(0),[f,y]=(0,n.useState)({ruta:"",truck:0,driver:0,turno:""}),w=a.map(e=>({value:e.driverId,label:e.name,contract:e.contract})),O=()=>{y(e=>({...e,truck:0}))},T=t.map(e=>({value:e.truckId,label:e.tag,contract:e.contract,tara:e.tara})),S=(e,a)=>{if("truck"===e){let t=T.find(e=>e.value===a);y(i=>({...i,[e]:a,tara:t?t.tara:0}))}else y(t=>({...t,[e]:a}));"driver"===e&&O()},[I,P]=(0,n.useState)(!1),H=async()=>{if(f.driver&&f.turno&&f.truck&&f.ruta&&0!==C&&""!==C&&null!==C)try{b(!0),await c.Z.transaction("rw",c.Z.truckOperation,async()=>{await c.Z.truckOperation.add({ruta:f.ruta,driver_Id:f.driver,turno:f.turno,truck_Id:f.truck,qtyHorometer:C,tara:f.tara,mining:"Yumpag",status:"completo",createdAt:Date.now()})}),console.log("Operacion agregado"),e.push("/cycle")}catch(e){console.error("Error al crear el registro:",e)}else P(!0)};return(0,i.jsx)(p.Z,{children:(0,i.jsxs)("section",{className:"w-Home",children:[(0,i.jsx)(l.M,{children:(0,i.jsx)(s.X,{features:r.H,children:(0,i.jsxs)(o.m.div,{className:"container",initial:"hidden",animate:"visible",exit:"exit",variants:g.$F,transition:{type:"tween",duration:.5},children:[(0,i.jsxs)("div",{className:"Home-title fixed1",children:[(0,i.jsx)("span",{className:"H-t-subtitle",children:"Inicio"}),(0,i.jsx)(j.Z,{text:"Datos iniciales"})]}),(0,i.jsx)("div",{className:"Home-body adjustable",style:{userSelect:_?"none":"auto",pointerEvents:_?"none":"auto"},children:(0,i.jsxs)(o.m.div,{className:"H-b-imputs",initial:"initial",animate:"animate",variants:g.EY,children:[(0,i.jsx)(o.m.div,{className:"H-b-imputs-item",variants:g.eu,children:(0,i.jsxs)("div",{className:"imputs-i-input input",children:[(0,i.jsxs)("select",{name:"ruta",id:"react-select-instance",value:f.ruta,onChange:e=>S("ruta",e.target.value),className:"input__field",required:!0,children:[(0,i.jsx)("option",{value:"",disabled:!0,hidden:!0}),u.listRuta.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,i.jsx)("label",{className:"input__label",children:"Seleccione Ruta"})]})}),(0,i.jsx)(o.m.div,{className:"H-b-imputs-item",variants:g.eu,children:(0,i.jsx)("div",{className:"imputs-i-input",children:(0,i.jsx)(h.ZP,{instanceId:"react-select-instance-driver",name:"driver",classNamePrefix:"custom-select",isSearchable:!0,isClearable:!0,options:w,onChange:e=>S("driver",e?e.value:null),onInputChange:e=>{e||O()},placeholder:"Ingrese o seleccione Operador"})})}),(0,i.jsx)(o.m.div,{className:"H-b-imputs-item",variants:g.eu,children:(0,i.jsx)("div",{className:"imputs-i-input ",children:(0,i.jsx)(h.ZP,{instanceId:"react-select-instance-truck",name:"truck",classNamePrefix:"custom-select",isSearchable:!0,isClearable:!0,options:T.filter(e=>f.driver&&e.contract===a.find(e=>e.driverId===f.driver).contract),onChange:e=>S("truck",e?e.value:""),placeholder:"Ingrese o seleccione Cami\xf3n"})})}),(0,i.jsx)(o.m.div,{className:"H-b-imputs-item",variants:g.eu,children:(0,i.jsxs)("div",{className:"imputs-i-input input",children:[(0,i.jsx)("img",{src:"",alt:""}),(0,i.jsxs)("select",{name:"turno",id:"react-select-instance",value:f.turno,onChange:e=>S("turno",e.target.value),className:"input__field",required:!0,children:[(0,i.jsx)("option",{value:"",disabled:!0,hidden:!0}),u.listTurn.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,i.jsx)("label",{className:"input__label",children:"Seleccione Turno"})]})}),(0,i.jsxs)(o.m.div,{className:"H-b-imputs-item",variants:g.eu,children:[(0,i.jsx)("label",{children:"Horometro"}),(0,i.jsxs)("div",{className:"imputs-i-input ",children:[(0,i.jsx)("input",{type:"number",name:"bruto",placeholder:"00000",min:"0",value:0!==C?C:"",onChange:e=>{let a=e.target.value;a.length>5&&(a=a.slice(0,5));let t=a.indexOf(".");-1!==t&&a.length-t>5&&(a=a.slice(0,t+3));let i=parseFloat(a);N(isNaN(i)?"":i)},required:!0,className:"no-spinners input-tonelaje"}),(0,i.jsx)("span",{children:"horas"})]})]})]})}),(0,i.jsx)(o.m.div,{className:"Home-button fixed2",initial:"initial",animate:"animate",variants:g.eu,children:_?(0,i.jsx)("div",{className:"loader"}):(0,i.jsxs)("button",{type:"submit",onClick:H,disabled:_,children:["Aceptar ",(0,i.jsx)(v.Z,{})]})})]})})}),(0,i.jsx)(l.M,{children:I&&(0,i.jsx)(m.Z,{setPopup:P})})]})})}},5975:function(e,a,t){"use strict";var i=t(5893),n=t(798),l=t(3725);a.Z=e=>{let{text:a}=e;return(0,i.jsx)(n.E.span,{initial:"hidden",animate:"visible",transition:{staggerChildren:.05,delay:.25},className:"container-ws",children:a.split(/\s+/).map((e,t,s)=>(0,i.jsxs)("span",{children:[e.split("").map((e,a)=>(0,i.jsx)(n.E.span,{variants:l.OY,transition:{duration:.65,ease:"backInOut"},className:"inline-block relative top ".concat(0===t?"first-word":"other-words"),children:e},"".concat(e,"-").concat(a))),t<a.split(/\s+/).length-1&&(0,i.jsx)("span",{className:"word-space",children:" "})]},"word-".concat(t)))})}},3725:function(e,a,t){"use strict";t.d(a,{$F:function(){return l},EY:function(){return r},OY:function(){return i},eu:function(){return s},l_:function(){return o}});let i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},n=[.6,-.05,.01,.99],l={hidden:{x:-100,opacity:0},visible:{x:0,opacity:1,transition:{type:"spring",duration:.85,ease:n,delay:.15}},exit:{x:100,opacity:0,transition:{ease:"easeInOut",duration:.5}}},s={initial:{x:-100,opacity:0,delay:1},animate:{x:0,opacity:1,transition:{duration:1,ease:n}}},r={animate:{transition:{staggerChildren:.1}}},o={initial:{y:100,opacity:0,delay:1},animate:{y:0,opacity:1,transition:{duration:1,ease:[.83,0,.17,1]}}}},6142:function(e,a,t){"use strict";t.d(a,{Z:function(){return o}});var i=t(5893),n=t(8522),l=t(1673),s=t(2560);function r(e){return(0,i.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"optimizeQuality",fillRule:"evenodd",clipRule:"evenodd"},viewBox:"0 0 10.28 10.28",children:(0,i.jsx)("path",{d:"m6.02.55 4.15 8.3c.16.32.14.66-.04.96-.19.3-.49.47-.84.47H.99c-.35 0-.65-.17-.84-.47-.19-.3-.2-.65-.04-.96L4.26.55c.17-.34.5-.55.88-.55s.71.2.88.55zm-.88 6.77c.28 0 .5.23.5.5 0 .28-.23.5-.5.5-.28 0-.5-.23-.5-.5 0-.28.23-.5.5-.5zm0-3.95c.23 0 .42.19.42.42v2.8c0 .23-.19.42-.42.42-.23 0-.42-.19-.42-.42v-2.8c0-.23.19-.42.42-.42z"})})}var o=e=>{let{setPopup:a}=e;return(0,i.jsx)(n.X,{features:l.H,children:(0,i.jsx)(s.m.div,{className:"modalCreate-backg",initial:{opacity:0},animate:{opacity:1,transition:{ease:"easeOut",duration:.25}},exit:{opacity:0,transition:{ease:"easeOut",duration:.25,delay:.35}},children:(0,i.jsxs)(s.m.div,{className:"modalContent modal-oops",initial:{scale:1,opacity:0},animate:{opacity:1,scale:[.7,1.1,1],transition:{ease:"easeOut",duration:.5,delay:.1}},exit:{scale:[1,1.2,.7],transition:{ease:"easeOut",duration:.5}},children:[(0,i.jsxs)("div",{className:"modalHeader",children:[(0,i.jsx)(r,{}),(0,i.jsx)("h2",{children:"OOOOPS!"})]}),(0,i.jsx)("div",{className:"modalBody",children:(0,i.jsxs)("p",{children:[" ",(0,i.jsx)("strong",{children:"\xa1Hubo un problema!"})," ",(0,i.jsx)("br",{}),"Por favor, aseg\xfarate de completar todos los campos requeridos antes de continuar."]})}),(0,i.jsx)("div",{className:"modalFooter",children:(0,i.jsx)("button",{type:"button",onClick:()=>{a(!1)},children:"Aceptar"})})]})})})}},7105:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});var i=t(5893);function n(e){return(0,i.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:"1em",height:"1em",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"optimizeQuality",fillRule:"evenodd",clipRule:"evenodd"},viewBox:"0 0 3.09 5.07",children:(0,i.jsx)("path",{d:"M.94 4.91c-.22.22-.56.22-.78 0a.543.543 0 0 1 0-.78l1.59-1.59L.16.95a.543.543 0 0 1 0-.78c.22-.22.56-.22.78 0l1.98 1.98c.22.22.22.56 0 .78L.94 4.91z",style:{fillRule:"nonzero"}})})}},9664:function(e,a,t){"use strict";t.d(a,{Z:function(){return d}});var i=t(5893),n=t(9008),l=t.n(n),s=t(4298),r=t.n(s),o=t(7294),c=function(){return(0,o.useEffect)(()=>(window.history.pushState(null,null,window.location.href),window.onpopstate=()=>{window.history.pushState(null,null,window.location.href)},()=>{window.onpopstate=null}),[]),null},u=t(3454);function d(e){let{children:a}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r(),{strategy:"lazyOnload",src:"https://www.googletagmanager.com/gtag/js?id=".concat(u.env.NEXT_PUBLIC_GA_ID)}),(0,i.jsx)(r(),{id:"google-analytics-script",strategy:"lazyOnload",children:"\n                    window.dataLayer = window.dataLayer || [];\n                    function gtag(){dataLayer.push(arguments);}\n                    gtag('js', new Date());\n                    gtag('config', '".concat(u.env.NEXT_PUBLIC_GA_ID,"', {\n                        page_path: window.location.pathname,\n                    });\n                    ")}),(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:"Gunjop - Truck"}),(0,i.jsx)("meta",{name:"Gunjop - Home",content:"Gunjop"}),(0,i.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),(0,i.jsx)("meta",{name:"author",content:"gunjop"}),(0,i.jsx)("meta",{name:"description",content:"Sistema volquete"}),(0,i.jsx)("meta",{name:"keywords",content:"Sistema volquete"}),(0,i.jsx)("meta",{name:"robots",content:"index, follow"}),(0,i.jsx)("meta",{"http-equiv":"Content-Type",content:"text/html; charset=utf-8"}),(0,i.jsx)("meta",{name:"language",content:"English"}),(0,i.jsx)("meta",{name:"og:title",content:"Gunjop"}),(0,i.jsx)("meta",{name:"google-site-verification",content:""}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c,{}),a]})]})}},1328:function(e){"use strict";e.exports={listTurn:[{value:"DIA",label:"D\xeda"},{value:"NOCHE",label:"Noche"}],listMaintenance:[{id:401,name:"Falla mec\xe1nica",time:0},{id:405,name:"Lubricaci\xf3n y engrase de equipos",time:0},{id:406,name:"Problemas de llantas",time:0},{id:407,name:"Rotura de manguera",time:0},{id:408,name:"Rotura de muelles",time:0},{id:409,name:"Mantto. preventivo",time:0},{id:410,name:"Mantto. programado",time:0},{id:550,name:"Otros",time:0}],listStop:[{id:201,name:"Charla de seguridad",time:0},{id:202,name:"Refrigerio",time:0},{id:203,name:"Revisi\xf3n de equipo/check",time:0},{id:204,name:"Condiciones clim\xe1ticas",time:0},{id:250,name:"Otros",time:0}],listDelay:[{id:301,name:"Esperando orden",time:0},{id:302,name:"Abast. de combustible",time:0},{id:309,name:"Traslados de equipo",time:0},{id:310,name:"Esperas en el carguio",time:0},{id:311,name:"Esperas en la descarga",time:0},{id:312,name:"Mantto. de v\xedas",time:0},{id:313,name:"Roca entre las llantas",time:0},{id:314,name:"Nivelaci\xf3n de piso",time:0},{id:350,name:"Otros",time:0}],listStandby:[{id:501,name:"Falta de frente"},{id:502,name:"Falta de combustible"},{id:550,name:"Otros"}],listNivel:[{value:"NIVEL 1",label:"Nivel 1"},{value:"NIVEL 2",label:"Nivel 2"},{value:"NIVEL 3",label:"Nivel 3"}],listTipo:[{value:"TAJO",label:"Tajo"},{value:"AVANCE",label:"Avance"}],listTajo:[{value:"TJ400_1P_1",label:"TJ400_1P_1"},{value:"TJ400_2P_1",label:"TJ400_2P_1"},{value:"TJ400_6S_1",label:"TJ400_6S_1"},{value:"TJ500_1S_1",label:"TJ500_1S_1"},{value:"TJ500_2S_1",label:"TJ500_2S_1"},{value:"TJ500_3P_1",label:"TJ500_3P_1"},{value:"TJ500_3S_1",label:"TJ500_3S_1"},{value:"TJ500_4S_1",label:"TJ500_4S_1"},{value:"TJ500_5S_1",label:"TJ500_5S_1"},{value:"TJ500_6P_1",label:"TJ500_6P_1"},{value:"TJ500_7P_1",label:"TJ500_7P_1"},{value:"TJ500_7S_1",label:"TJ500_7S_1"},{value:"TJ500_8S_1",label:"TJ500_8S_1"},{value:"TJ500_11P_1",label:"TJ500_11P_1"}],listEquCargio:[{value:"SCOOP 1",label:"SCOOP 1"},{value:"SCOOP 2",label:"SCOOP 2"},{value:"SCOOP 3",label:"SCOOP 3"}],listDominio:[{value:"MINERAL",label:"Mineral"},{value:"DESMONTE",label:"Desmonte"}],listRuta:[{value:"YUM CARGUIO INTERIOR MINA - YUM CANCHA SUPERFICIE",label:"YUM Cargu\xedo Interior Mina - YUM Cancha Superficie"},{value:"YUM CARGUIO INTERIOR MINA - UCH CANCHA COLQUICOCHA",label:"YUM Cargu\xedo Interior Mina - UCH Cancha Colquicocha"},{value:"YUM CANCHA SUPERFICIE - UCH CANCHA COLQUICOCHA",label:"YUM Cancha Superficie - UCH Cancha Colquicocha"},{value:"UCH CANCHA COLQUICOCHA - UCH ECHADERO PLANTA",label:"UCH Cancha Colquicocha - UCH Echadero Planta"}]}}},function(e){e.O(0,[448,288,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);